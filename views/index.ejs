<%- include('./partials/header') %> <% if(error.length) { %>
<div
  id="error-message"
  class="absolute top-1/4 left-1/2 -translate-x-1/2 -translate-y-1/2 p-3 rounded-full bg-red-500"
>
  <span class="inline-block mt-1 mb-1 text-white"> <%= error %> </span>
</div>
<% } %>

<div class="w-full  flex px-20 overflow-hidden">
  <div class="w-1/2 flex items-center justify-center ">
    <div class="w-full px-32">
      <h3 class="text-4xl">
        Welcome to <span class="text-blue-400 font-semibold">Nile</span>
      </h3>
      <h4 class="text-2xl mb-5">Create your account</h4>
      <form autocomplete="off" action="/users/register" method="post">
        <input
          class="bg-zinc-100 block w-full px-3 py-2 border-[1px] rounded-md mb-3 border-zinc-200"
          type="text"
          placeholder="Full Name"
          name="fullname"
        />
        <input
          class="bg-zinc-100 block w-full px-3 py-2 border-[1px] rounded-md mb-3 border-zinc-200"
          type="email"
          placeholder="Email"
          name="email"
        />
        <input
          class="bg-zinc-100 block w-full px-3 py-2 border-[1px] rounded-md mb-3 border-zinc-200"
          type="password"
          placeholder="Password"
          name="password"
        />
        <input
          class="px-5 rounded-full py-3 mt-2 bg-blue-500 text-white cursor-pointer"
          type="submit"
          value="Create My Account"
        />
      </form>
    </div>
  </div>
   <!-- New "Enter Shop" button -->
   <div class="mt-52">
    <a
      href="/shop"
      class="block text-center px-5 py-3 bg-blue-500 text-white rounded-full cursor-pointer"
    >
      Enter Shop without Logging in
    </a>
  </div>

  <div class="w-1/2 flex items-center justify-center h-screen">
    
    <div class="w-full px-32">
      <h4 class="text-2xl capitalize mb-5">Login to your account</h4>
      <form
        autocomplete="off"
        id="loginForm"
        action="/users/login"
        method="post"
      >
        <input
          id="emailInput"
          class="block bg-zinc-100 w-full px-3 py-2 border-[1px] rounded-md mb-3 border-zinc-200"
          type="email"
          placeholder="Email"
          name="email"
        />
        <div class="relative">
          <input
            id="passwordInput"
            class="block bg-zinc-100 w-full px-3 py-2 border-[1px] rounded-md mb-3 border-zinc-200"
            type="password"
            placeholder="Password"
            name="password"
          />
          <span
            class="opacity-20 absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer"
            onclick="togglePasswordVisibility()"
          >
            show password
            <!-- Replace with an icon of your choice, e.g., FontAwesome eye icon -->
          </span>
        </div>

        <div class="flex gap-5">
          <input
            class="px-5 block rounded-full py-3 mt-2 bg-blue-500 text-white cursor-pointer"
            type="submit"
            value="Login"
          />
          <button
            class="px-4 py-2 mt-2 bg-blue-500 text-white rounded-full"
            onclick="fillDummyCredentials()"
          >
            Use Dummy Credentials
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<%- include('./partials/footer') %>

<script>
  // JavaScript function to fill the form with dummy credentials
  function fillDummyCredentials() {
    document.getElementById("emailInput").value = "testuser@example.com";
    document.getElementById("passwordInput").value = "test1234";
  }
  function togglePasswordVisibility() {
    const passwordInput = document.getElementById("passwordInput");
    passwordInput.type =
      passwordInput.type === "password" ? "text" : "password";
  }

  // Hide success message after 2 seconds
  setTimeout(() => {
    const errorMessage = document.getElementById("error-message");
    if (errorMessage) {
      errorMessage.style.display = "none";
    }
  }, 1200);
</script>
